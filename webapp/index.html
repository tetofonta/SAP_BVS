<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta charset="UTF-8">

    <title>BVS</title>

    <script id="sap-ui-bootstrap"
			src="../../resources/sap-ui-core.js"
			data-sap-ui-libs="sap.m"
			data-sap-ui-theme="sap_belize"
			data-sap-ui-compatVersion="edge"
			data-sap-ui-resourceroots='{"BVS": ""}'>
		</script>
		
		<script>
			$.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-core');
			$.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-widget');
			$.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-mouse');
			$.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-sortable');
			$.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-droppable');
			$.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-draggable');
		</script>
		<script src="UITP.js"></script>
		<script src="canvas2image.js"></script>
		<script type="text/javascript">
		function imageToDataUri(img, width, height) {

		    // create an off-screen canvas
		    var canvas = document.createElement('canvas'),
		    
		    ctx = canvas.getContext('2d');
		    ctx.canvas.id = "canv";
		
		    // set its dimension to target size
		    canvas.width = width;
		    canvas.height = height;
		
		    // draw source image into the off-screen canvas:
		    ctx.drawImage(img, 0, 0, width, height);
		
		    // encode image to data-uri with base64 version of compressed image
		    console.log(ctx)
		    return canvas.toDataURL();
		}

		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				var image = new Image();
				reader.onload = function (e) {
					$('#__component0---player--profilePic')[0].src = e.target.result;
					console.log(e.target.result);
					image.src = e.target.result;
					//$('#__component0---player--profilePic')[0].src =  imageToDataUri(image, 60, 60);
					//console.log(image.src);
					//console.log(imageToDataUri(image, 60, 60))
					//document.getElementById("canv").parentElement.removeChild(document.getElementById("canv"));
				}
				reader.readAsDataURL(input.files[0]);
				}
		}
		</script>

    <link rel="stylesheet" type="text/css" href="css/style.css">

    <script>
        sap.ui.getCore().attachInit(function () {
            new sap.m.Shell({
                app: new sap.ui.core.ComponentContainer({
                    height: "100%",
                    name: "BVS"
                })
            }).placeAt("content");
        });
    </script>
</head>

<body class="sapUiBody" id="content">
</body>

</html>